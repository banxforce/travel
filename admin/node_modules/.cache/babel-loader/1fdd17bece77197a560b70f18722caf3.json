{"remainingRequest":"D:\\BaiduNetdiskDownload\\springboot281旅游网站分离\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\BaiduNetdiskDownload\\springboot281旅游网站分离\\admin\\src\\utils\\http.js","dependencies":[{"path":"D:\\BaiduNetdiskDownload\\springboot281旅游网站分离\\admin\\src\\utils\\http.js","mtime":1737354677915},{"path":"D:\\BaiduNetdiskDownload\\springboot281旅游网站分离\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1726221037779},{"path":"D:\\BaiduNetdiskDownload\\springboot281旅游网站分离\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1726221039581}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiQC9yb3V0ZXIvcm91dGVyLXN0YXRpYyI7CmltcG9ydCBzdG9yYWdlIGZyb20gIkAvdXRpbHMvc3RvcmFnZSI7CnZhciBodHRwID0gYXhpb3MuY3JlYXRlKHsKICB0aW1lb3V0OiAxMDAwICogODY0MDAsCiAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLAogIGJhc2VVUkw6ICIvdHJhdmVsIiwKICBoZWFkZXJzOiB7CiAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgiCiAgfQp9KTsgLy8g6K+35rGC5oum5oiqCgpodHRwLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgY29uZmlnLmhlYWRlcnNbIlRva2VuIl0gPSBzdG9yYWdlLmdldCgiVG9rZW4iKTsgLy8g6K+35rGC5aS05bim5LiKdG9rZW4KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIOWTjeW6lOaLpuaIqgoKaHR0cC5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIGlmIChyZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gNDAxKSB7CiAgICAvLyA0MDEsIHRva2Vu5aSx5pWICiAgICByb3V0ZXIucHVzaCh7CiAgICAgIG5hbWU6ICJsb2dpbiIKICAgIH0pOwogIH0KCiAgcmV0dXJuIHJlc3BvbnNlOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgaHR0cDs="},{"version":3,"sources":["D:/BaiduNetdiskDownload/springboot281旅游网站分离/admin/src/utils/http.js"],"names":["axios","router","storage","http","create","timeout","withCredentials","baseURL","headers","interceptors","request","use","config","get","error","Promise","reject","response","data","code","push","name"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AAEA,IAAMC,IAAI,GAAGH,KAAK,CAACI,MAAN,CAAa;AACvBC,EAAAA,OAAO,EAAE,OAAO,KADO;AAEvBC,EAAAA,eAAe,EAAE,IAFM;AAGvBC,EAAAA,OAAO,EAAE,SAHc;AAIvBC,EAAAA,OAAO,EAAE;AACN,oBAAgB;AADV;AAJc,CAAb,CAAb,C,CAQA;;AACAL,IAAI,CAACM,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CACG,UAACC,MAAD,EAAY;AACTA,EAAAA,MAAM,CAACJ,OAAP,CAAe,OAAf,IAA0BN,OAAO,CAACW,GAAR,CAAY,OAAZ,CAA1B,CADS,CACuC;;AAChD,SAAOD,MAAP;AACF,CAJJ,EAKG,UAACE,KAAD,EAAW;AACR,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACF,CAPJ,E,CASA;;AACAX,IAAI,CAACM,YAAL,CAAkBQ,QAAlB,CAA2BN,GAA3B,CACG,UAACM,QAAD,EAAc;AACX,MAAIA,QAAQ,CAACC,IAAT,IAAiBD,QAAQ,CAACC,IAAT,CAAcC,IAAd,KAAuB,GAA5C,EAAiD;AAC9C;AACAlB,IAAAA,MAAM,CAACmB,IAAP,CAAY;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAZ;AACF;;AACD,SAAOJ,QAAP;AACF,CAPJ,EAQG,UAACH,KAAD,EAAW;AACR,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACF,CAVJ;AAYA,eAAeX,IAAf","sourcesContent":["import axios from \"axios\";\r\nimport router from \"@/router/router-static\";\r\nimport storage from \"@/utils/storage\";\r\n\r\nconst http = axios.create({\r\n   timeout: 1000 * 86400,\r\n   withCredentials: true,\r\n   baseURL: \"/travel\",\r\n   headers: {\r\n      \"Content-Type\": \"application/json; charset=utf-8\",\r\n   },\r\n});\r\n// 请求拦截\r\nhttp.interceptors.request.use(\r\n   (config) => {\r\n      config.headers[\"Token\"] = storage.get(\"Token\"); // 请求头带上token\r\n      return config;\r\n   },\r\n   (error) => {\r\n      return Promise.reject(error);\r\n   }\r\n);\r\n// 响应拦截\r\nhttp.interceptors.response.use(\r\n   (response) => {\r\n      if (response.data && response.data.code === 401) {\r\n         // 401, token失效\r\n         router.push({ name: \"login\" });\r\n      }\r\n      return response;\r\n   },\r\n   (error) => {\r\n      return Promise.reject(error);\r\n   }\r\n);\r\nexport default http;\r\n"]}]}